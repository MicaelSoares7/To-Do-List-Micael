<!--faça com que quando no header a classe do criar tarefas estiver active mostre a div cadastrar e quando clicar em minhas tarefas a classe active vá para minhas tarefas e mostre a div id dados e oculte a div cadastrar-->
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <style>
        
    </style>
    <title>To do List - Micael Soares</title>
</head>
<body>
    <header class="header">
        <nav>
            <ul>
                <li><a id="criar" class="active"  onclick="criarTarefas();">Criar Tarefas</a></li>
                <li><a class="mostar-tarefas" onclick="mostarTarefas();">Minhas Tarefas</a></li>
            </ul>
        </nav>
    </header>
    <div id="cadastrar" style="padding-left: 10px;">
        <h2 style="margin-top: 20px; margin-left: 39px;">Criar Tarefas</h2>
        <br>
        <div class="input-group">
            <input class="input" required type="text" id="titulo-tarefa">
            <label class="label" for="titulo-tarefa">Título</label>
        </div>
        <div class="input-group">
            <input class="input" required type="text" id="descricao">
            <label class="label" for="descricao">Descrição</label>
        </div>
        <button type="submit" onclick="cadastrar();">Cadastrar</button>
    </div>

    <div id="dados" hidden></div>

    <script>
        function criarTarefas() {
            const cadastrar = document.getElementById('cadastrar');
            const dados = document.getElementById('dados');
            cadastrar.style.display = 'block';
            dados.style.display = 'none';

            
            const active = document.querySelector('.active');
            active.classList.remove('active');
            const mostrarTarefas = document.querySelector('#criar');
            mostrarTarefas.classList.add('active');
        }

        function mostarTarefas() {
            const cadastrar = document.getElementById('cadastrar');
            const dados = document.getElementById('dados');
            cadastrar.style.display = 'none';
            dados.style.display = 'block';
            
            const active = document.querySelector('.active');
            active.classList.remove('active');
            const mostrarTarefas = document.querySelector('.mostar-tarefas');
            mostrarTarefas.classList.add('active');
        }

        document.addEventListener('DOMContentLoaded', carregarTarefas);

        function cadastrar() {
            
            const titulo = document.getElementById('titulo-tarefa').value;
            const desc = document.getElementById('descricao').value;

            const tarefas = JSON.parse(localStorage.getItem('tarefas')) || [];

            tarefas.push({ titulo, desc });

            localStorage.setItem('tarefas', JSON.stringify(tarefas));

            carregarTarefas();

            document.getElementById('titulo-tarefa').value = '';
            document.getElementById('descricao').value = '';
        }

        function carregarTarefas() {
            const d = document.getElementById('dados');
            d.innerHTML = '';

            const tarefas = JSON.parse(localStorage.getItem('tarefas')) || [];

            // Exibe cada tarefa na página
            tarefas.forEach((tarefa, index) => {
                const div = document.createElement('div');
                div.classList.add('tarefa');
                div.innerHTML = `<h2>${tarefa.titulo}</h2>${tarefa.desc}<br>
                                <button onclick="editarTarefa(${index});">Editar</button>
                                <button onclick="excluirTarefa(${index});">Excluir</button>`;

                d.appendChild(div);
            });
        }

        function editarTarefa(index) {
            const tarefas = JSON.parse(localStorage.getItem('tarefas')) || [];

            // Preenche os campos de entrada com os dados da tarefa selecionada
            document.getElementById('titulo-tarefa').value = tarefas[index].titulo;
            document.getElementById('descricao').value = tarefas[index].desc;

            // Remove a tarefa da lista
            tarefas.splice(index, 1);

            localStorage.setItem('tarefas', JSON.stringify(tarefas));

            carregarTarefas();
        }

        function excluirTarefa(index) {
            const tarefas = JSON.parse(localStorage.getItem('tarefas')) || [];

            tarefas.splice(index, 1);

            localStorage.setItem('tarefas', JSON.stringify(tarefas));
            
            carregarTarefas();
        }
    </script>
</body>
</html>
